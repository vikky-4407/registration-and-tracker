{"ast":null,"code":"import React,{useState}from'react';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import axios from'axios';import'./Home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _errors$username,_errors$username2,_errors$username3,_errors$dateofbirth,_errors$imageUrl;let{register,handleSubmit,formState:{errors}}=useForm();let navigate=useNavigate();let[err,seterror]=useState(\"\");let[selectedFile,setSelectedFile]=useState(null);let addnewuser=newuser=>{//make http post req to save newuser to localapi\nlet fd=new FormData();//append newuser to form data\nfd.append(\"user\",JSON.stringify(newuser));//append slelected file to form data\nfd.append(\"photo\",selectedFile);// console.log(newuser);\n//save user info\naxios.post(\"http://localhost:3500/user-api/register\",fd).then(response=>{console.log(\"response is \",response);if(response.status===201){//navigate('/Users');\nnavigate('/Login');}else{seterror(response.data.message);}}).catch(err=>{console.log(\"err is\",err);if(err.response){seterror(err.message);}else if(err.request){seterror(err.message);}});};//on file selelct\nconst onFileSelect=e=>{setSelectedFile(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[err.length!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:err}),/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-8 col-11 col-md-4 mx-auto border text-white px-4 py-4  mt-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addnewuser),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"float-left text-center\",children:\"user Registration\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",placeholder:\"username\",className:\"form-control  mt-3 mb-3\",...register(\"username\",{required:'True'})}),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*this field is required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",placeholder:\"@gmail.com\",className:\"form-control mt-3 mb-3\",...register(\"email\",{required:'True'})}),((_errors$username2=errors.username)===null||_errors$username2===void 0?void 0:_errors$username2.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*this field is required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"password\",className:\"form-control mt-3\",...register(\"password\",{required:'True'})}),((_errors$username3=errors.username)===null||_errors$username3===void 0?void 0:_errors$username3.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*this field is required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dateofbirth\",children:\"date of Birth\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dob\",className:\"form-control mt-3\",...register(\"dateofbirth\",{required:'True'})}),((_errors$dateofbirth=errors.dateofbirth)===null||_errors$dateofbirth===void 0?void 0:_errors$dateofbirth.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*this field is required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"upload pro pic\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",placeholder:\"url\",className:\"form-control mt-3\",...register(\"image\",{required:'True'}),onInput:onFileSelect}),((_errors$imageUrl=errors.imageUrl)===null||_errors$imageUrl===void 0?void 0:_errors$imageUrl.type)==='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"*this field is required\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-3\",type:\"submit\",children:\"Register\"})]})})})]});}export default Register;","map":{"version":3,"names":["React","useState","useForm","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Register","_errors$username","_errors$username2","_errors$username3","_errors$dateofbirth","_errors$imageUrl","register","handleSubmit","formState","errors","navigate","err","seterror","selectedFile","setSelectedFile","addnewuser","newuser","fd","FormData","append","JSON","stringify","post","then","response","console","log","status","data","message","catch","request","onFileSelect","e","target","files","className","children","length","onSubmit","htmlFor","type","id","placeholder","required","username","dateofbirth","onInput","imageUrl"],"sources":["C:/Users/Vivek/canteen1/src/components/Register.js"],"sourcesContent":["import React,{useState} from 'react' \r\nimport {useForm} from 'react-hook-form'\r\nimport {  useNavigate} from 'react-router-dom'\r\nimport axios from 'axios' \r\nimport './Home.css'\r\nfunction Register() {\r\n   \r\n  let {register,handleSubmit,formState:{errors}}=useForm()\r\n  let navigate=useNavigate()\r\n  let [err,seterror]=useState(\"\")\r\n  let [selectedFile,setSelectedFile]=useState(null) \r\nlet addnewuser=(newuser)=>{\r\n\r\n  //make http post req to save newuser to localapi\r\n  let fd=new FormData();\r\n  //append newuser to form data\r\n  fd.append(\"user\",JSON.stringify(newuser))\r\n  //append slelected file to form data\r\n  fd.append(\"photo\",selectedFile)\r\n  // console.log(newuser);\r\n  //save user info\r\n  axios.post(\"http://localhost:3500/user-api/register\",fd)\r\n  .then(response=>{\r\n    console.log(\"response is \",response)\r\n    if(response.status===201){\r\n      //navigate('/Users');\r\n      navigate('/Login')\r\n    }\r\n    else{\r\n      seterror(response.data.message)\r\n    }\r\n     \r\n  })\r\n  .catch((err)=>{\r\n    console.log(\"err is\", err);\r\n    if(err.response){\r\n     seterror(err.message)\r\n    }\r\n    else if(err.request){\r\n      seterror(err.message)\r\n    }\r\n  })\r\n\r\n}\r\n\r\n    //on file selelct\r\n    const onFileSelect=(e)=>{\r\n      setSelectedFile(e.target.files[0])\r\n    }\r\n\r\n  return (\r\n    <div className='background'> \r\n       \r\n      {err.length!==0 && <p className='text-danger'>{err}</p>}\r\n\r\n       \r\n      <div className=\"row \">\r\n       \r\n            <div className=\"col-sm-8 col-11 col-md-4 mx-auto border text-white px-4 py-4  mt-5\">\r\n                <form onSubmit={handleSubmit(addnewuser)}>\r\n                <h3 className='float-left text-center'>user Registration</h3>\r\n                  <label htmlFor=\"username\">username</label>\r\n                  <input type=\"text\"\r\n                  id='username'\r\n                  placeholder='username'\r\n                  className='form-control  mt-3 mb-3'\r\n                  {...register(\"username\",{required:'True'})}\r\n                  />\r\n                  {errors.username?.type==='required' && <p className='text-danger'>*this field is required</p>}\r\n                \r\n\r\n                  <label htmlFor=\"email\">email</label>\r\n                  <input type=\"text\"\r\n                  id='email'\r\n                  placeholder='@gmail.com'\r\n                  className='form-control mt-3 mb-3'\r\n                  {...register(\"email\",{required:'True'})}\r\n                  />\r\n                  {errors.username?.type==='required' && <p className='text-danger'>*this field is required</p>}\r\n\r\n\r\n                  <label htmlFor=\"password\">password</label>\r\n                  <input type=\"password\"\r\n                  id='password'\r\n                  placeholder='password'\r\n                  className='form-control mt-3'\r\n                  {...register(\"password\",{required:'True'})}\r\n                  />\r\n                  {errors.username?.type==='required' && <p className='text-danger'>*this field is required</p>}\r\n                  \r\n                  \r\n                  <label htmlFor=\"dateofbirth\">date of Birth</label>\r\n                  <input type=\"date\"\r\n                  id='dob'\r\n                  className='form-control mt-3'\r\n                  {...register(\"dateofbirth\",{required:'True'})}\r\n                  />\r\n                  {errors.dateofbirth?.type==='required' && <p className='text-danger'>*this field is required</p>}\r\n                \r\n                \r\n                  <label htmlFor=\"name\">upload pro pic</label>\r\n                  <input type=\"file\"\r\n                  id='image'\r\n                  placeholder='url'\r\n                  className='form-control mt-3'\r\n                  {...register(\"image\",{required:'True'})}\r\n                  onInput={onFileSelect}\r\n                  />\r\n                  {errors.imageUrl?.type==='required' && <p className='text-danger'>*this field is required</p>}\r\n                \r\n                  \r\n               \r\n                  <button className='btn btn-danger mt-3' type='submit'>Register</button>\r\n                </form>\r\n              </div>\r\n \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}