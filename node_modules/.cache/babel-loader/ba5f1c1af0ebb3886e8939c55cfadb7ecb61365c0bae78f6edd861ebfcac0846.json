{"ast":null,"code":"import React,{useState}from'react';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import axios from'axios';import{useContext}from'react';import{loginContext}from'../contexts/loginContext';import'./Home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){let[currentUser,loginErr,userLoginStatus,loginUser,logoutUser,setScheme,scheme]=useContext(loginContext);const{register,handleSubmit,formState:{errors}}=useForm();const navigate=useNavigate();const[err,setError]=useState(\"\");const addNewStudent=newStudent=>{axios.post(\"http://localhost:3500/seat-api/add-seat\",newStudent).then(response=>{console.log(\"response is \",response);if(response.status===201){navigate('/Details');}else{setError(response.data.message);}}).catch(err=>{console.log(\"err is\",err);if(err.response){setError(err.message);}else if(err.request){setError(err.message);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[err.length!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mx-auto text-center\",children:err}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8 col-11 col-md-6 mx-auto border text-white px-4 py-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center text-success\",children:\"Enter post details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addNewStudent),children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"enter title\",className:\"form-control mb-4\",...register(\"title\",{required:true})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control  \",required:true,rows:\"6\",name:\"comments\",id:\"feedback_comments\",placeholder:\"add post content\",...register(\"post\",{required:true})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-3\",type:\"submit\",children:\"Add Post\"})]})]})})]});}export default Register;","map":{"version":3,"names":["React","useState","useForm","useNavigate","axios","useContext","loginContext","jsx","_jsx","jsxs","_jsxs","Register","currentUser","loginErr","userLoginStatus","loginUser","logoutUser","setScheme","scheme","register","handleSubmit","formState","errors","navigate","err","setError","addNewStudent","newStudent","post","then","response","console","log","status","data","message","catch","request","className","children","length","onSubmit","placeholder","required","rows","name","id","type"],"sources":["C:/Users/Vivek/canteen1/src/components/Home.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios'; \r\nimport { useContext } from 'react';\r\nimport { loginContext } from '../contexts/loginContext';\r\nimport './Home.css'  \r\n\r\nfunction Register() {\r\n  let  [currentUser,loginErr,userLoginStatus,loginUser,logoutUser ,setScheme,scheme]=useContext(loginContext)\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n  const navigate = useNavigate();\r\n  const [err, setError] = useState(\"\");  \r\n\r\n  const addNewStudent = (newStudent) => {   \r\n    axios.post(\"http://localhost:3500/seat-api/add-seat\", newStudent)\r\n      .then(response => {\r\n        console.log(\"response is \", response);\r\n        if (response.status === 201) {\r\n          navigate('/Details');\r\n        } else {\r\n          setError(response.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(\"err is\", err);\r\n        if (err.response) {\r\n          setError(err.message);\r\n        } else if (err.request) {\r\n          setError(err.message);\r\n        }\r\n      });\r\n  }\r\n\r\n \r\n\r\n\r\n\r\n   \r\n \r\n\r\n  return (\r\n    <div className='background'>\r\n      {err.length !== 0 && <p className='text-danger mx-auto text-center'>{err}</p>}\r\n      \r\n      <div className=\"row\">\r\n        <div className=\"col-sm-8 col-11 col-md-6 mx-auto border text-white px-4 py-4\">\r\n          <h4 className='text-center text-success'>Enter post details</h4>\r\n          <form onSubmit={handleSubmit(addNewStudent)}>\r\n          <input \r\n          placeholder='enter title'\r\n          className='form-control mb-4'\r\n          {...register(\"title\", { required: true })}\r\n          \r\n          />\r\n          <textarea className=\"form-control  \" required rows=\"6\" name=\"comments\" id=\"feedback_comments\" placeholder='add post content'  \r\n           {...register(\"post\", { required: true })}\r\n          ></textarea>\r\n\r\n            <button className='btn btn-danger mt-3' type='submit'>Add Post</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,YAAY,KAAQ,0BAA0B,CACvD,MAAO,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,GAAK,CAACC,WAAW,CAACC,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,UAAU,CAAEC,SAAS,CAACC,MAAM,CAAC,CAACb,UAAU,CAACC,YAAY,CAAC,CAC3G,KAAM,CAAEa,QAAQ,CAAEC,YAAY,CAAEC,SAAS,CAAE,CAAEC,MAAO,CAAE,CAAC,CAAGpB,OAAO,CAAC,CAAC,CACnE,KAAM,CAAAqB,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACqB,GAAG,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAyB,aAAa,CAAIC,UAAU,EAAK,CACpCvB,KAAK,CAACwB,IAAI,CAAC,yCAAyC,CAAED,UAAU,CAAC,CAC9DE,IAAI,CAACC,QAAQ,EAAI,CAChBC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEF,QAAQ,CAAC,CACrC,GAAIA,QAAQ,CAACG,MAAM,GAAK,GAAG,CAAE,CAC3BV,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,IAAM,CACLE,QAAQ,CAACK,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CACjC,CACF,CAAC,CAAC,CACDC,KAAK,CAACZ,GAAG,EAAI,CACZO,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAER,GAAG,CAAC,CAC1B,GAAIA,GAAG,CAACM,QAAQ,CAAE,CAChBL,QAAQ,CAACD,GAAG,CAACW,OAAO,CAAC,CACvB,CAAC,IAAM,IAAIX,GAAG,CAACa,OAAO,CAAE,CACtBZ,QAAQ,CAACD,GAAG,CAACW,OAAO,CAAC,CACvB,CACF,CAAC,CAAC,CACN,CAAC,CASD,mBACEzB,KAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,EACxBf,GAAG,CAACgB,MAAM,GAAK,CAAC,eAAIhC,IAAA,MAAG8B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAEf,GAAG,CAAI,CAAC,cAE7EhB,IAAA,QAAK8B,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClB7B,KAAA,QAAK4B,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC3E/B,IAAA,OAAI8B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAChE7B,KAAA,SAAM+B,QAAQ,CAAErB,YAAY,CAACM,aAAa,CAAE,CAAAa,QAAA,eAC5C/B,IAAA,UACAkC,WAAW,CAAC,aAAa,CACzBJ,SAAS,CAAC,mBAAmB,IACzBnB,QAAQ,CAAC,OAAO,CAAE,CAAEwB,QAAQ,CAAE,IAAK,CAAC,CAAC,CAExC,CAAC,cACFnC,IAAA,aAAU8B,SAAS,CAAC,gBAAgB,CAACK,QAAQ,MAACC,IAAI,CAAC,GAAG,CAACC,IAAI,CAAC,UAAU,CAACC,EAAE,CAAC,mBAAmB,CAACJ,WAAW,CAAC,kBAAkB,IACvHvB,QAAQ,CAAC,MAAM,CAAE,CAAEwB,QAAQ,CAAE,IAAK,CAAC,CAAC,CAC9B,CAAC,cAEVnC,IAAA,WAAQ8B,SAAS,CAAC,qBAAqB,CAACS,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACnE,CAAC,EACJ,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA5B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}