{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{useForm}from'react-hook-form';import{useNavigate}from'react-router-dom';import axios from'axios';import{loginContext}from'../contexts/loginContext';import'./Home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddCollege(){let[currentUser,loginErr,userLoginStatus,loginUser,logoutUser,setScheme,scheme]=useContext(loginContext);let{register,handleSubmit,formState:{errors}}=useForm();let navigate=useNavigate();let[err,seterror]=useState(\"\");let[users,setUsers]=useState([]);let[selectedFile,setSelectedFile]=useState(null);let addcollege=newCollege=>{newCollege['Hno']=scheme;axios.post(\"http://localhost:3500/college-api/add-college\",newCollege).then(response=>{console.log(\"response is \",response);if(response.status===201){navigate('/AddCollege');}else{seterror(response.data.message);}}).catch(err=>{console.log(\"err is\",err);if(err.response){seterror(err.message);}else if(err.request){seterror(err.message);}});};let getcollege=()=>{axios.get(\"http://localhost:3500/college-api/get-college\").then(response=>{if(response.status==200){response=response.data.payload;setUsers(response);}}).catch(err=>{console.log(\"err is at getdata dashboard\",err);if(err.response){seterror(err.message);}else if(err.request){seterror(err.message);}});};//on file selelct\nconst onFileSelect=e=>{setSelectedFile(e.target.files[0]);};useEffect(()=>{getcollege();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[err.length!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:err}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center  text-white mb-3\",children:\"Money tracker App\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\" col-sm-8 col-11 col-md-6 mx-auto border bg-secondary px-4 py-4 \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addcollege),children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"enter expense\",type:\"number\",className:\"form-control mt-3 mb-5\",...register(\"expense\",{required:true})}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"enter income\",type:\"number\",className:\"form-control mb-4\",...register(\"income\",{required:true})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",...register(\"date\",{required:true})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mt-3\",type:\"submit\",children:\"Submit\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-sm-2 row-cols-md-3\",children:users===null||users===void 0?void 0:users.map(dataObj=>/*#__PURE__*/_jsx(\"div\",{className:\"col mx-auto text-center m-5 p-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body bg-transparent \",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"expense :\"}),dataObj.expense]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Income :\"}),dataObj.income]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"date\"}),dataObj.date]})]})})},dataObj.id))})]});}export default AddCollege;","map":{"version":3,"names":["React","useContext","useEffect","useState","useForm","useNavigate","axios","loginContext","jsx","_jsx","jsxs","_jsxs","AddCollege","currentUser","loginErr","userLoginStatus","loginUser","logoutUser","setScheme","scheme","register","handleSubmit","formState","errors","navigate","err","seterror","users","setUsers","selectedFile","setSelectedFile","addcollege","newCollege","post","then","response","console","log","status","data","message","catch","request","getcollege","get","payload","onFileSelect","e","target","files","className","children","length","onSubmit","placeholder","type","required","map","dataObj","expense","income","date","id"],"sources":["C:/Users/Vivek/canteen1/src/components/AddCollege.js"],"sourcesContent":["import React,{useContext, useEffect, useState} from 'react' \r\nimport {useForm} from 'react-hook-form'\r\nimport {  useNavigate} from 'react-router-dom'\r\nimport axios from 'axios' \r\nimport { loginContext } from '../contexts/loginContext' \r\nimport './Home.css'\r\nfunction AddCollege() {\r\n\r\n  let  [currentUser,loginErr,userLoginStatus,loginUser,logoutUser ,setScheme,scheme]=useContext(loginContext)\r\n   \r\n  let {register,handleSubmit,formState:{errors}}=useForm()\r\n  let navigate=useNavigate()\r\n  let [err,seterror]=useState(\"\")\r\n  let [users,setUsers]=useState([]) \r\n  let [selectedFile,setSelectedFile]=useState(null) \r\nlet addcollege=(newCollege)=>{ \r\n    newCollege['Hno']=scheme\r\n  axios.post(\"http://localhost:3500/college-api/add-college\",newCollege)\r\n  .then(response=>{\r\n    console.log(\"response is \",response)\r\n    if(response.status===201){ \r\n        navigate('/AddCollege')\r\n    }\r\n    else{\r\n      seterror(response.data.message)\r\n    }\r\n     \r\n  })\r\n  .catch((err)=>{\r\n    console.log(\"err is\", err);\r\n    if(err.response){\r\n     seterror(err.message)\r\n    }\r\n    else if(err.request){\r\n      seterror(err.message)\r\n    }\r\n  })\r\n\r\n}\r\n\r\n\r\n\r\nlet getcollege=()=>{\r\n    axios.get(\"http://localhost:3500/college-api/get-college\")\r\n    .then((response)=>{ \r\n      if(response.status==200){\r\n        response=(response.data.payload)\r\n         \r\n        setUsers(response) \r\n      }\r\n    })\r\n    .catch((err)=>{\r\n      console.log(\"err is at getdata dashboard\",err)\r\n      if(err.response){\r\n        seterror(err.message)\r\n      }\r\n      else if(err.request){\r\n        seterror(err.message)\r\n      }\r\n    })\r\n  } \r\n\r\n    //on file selelct\r\n    const onFileSelect=(e)=>{\r\n      setSelectedFile(e.target.files[0])\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getcollege()\r\n    },[])\r\n\r\n  return (\r\n    <div className='background'> \r\n       \r\n    {err.length!==0 && <p className='text-danger'>{err}</p>}\r\n\r\n    <h3 className='text-center  text-white mb-3'>Money tracker App</h3>\r\n    \r\n    <div className=\"row\">\r\n     \r\n          <div className=\" col-sm-8 col-11 col-md-6 mx-auto border bg-secondary px-4 py-4 \">\r\n              <form onSubmit={handleSubmit(addcollege)}>\r\n                <input \r\n                 placeholder='enter expense'\r\n                 type='number'\r\n                 className='form-control mt-3 mb-5'\r\n                 {...register(\"expense\", { required: true })}\r\n                \r\n                />\r\n\r\n                <input \r\n                 placeholder='enter income'\r\n                 type='number'\r\n                 className='form-control mb-4'\r\n                 {...register(\"income\", { required: true })}\r\n                \r\n                />\r\n\r\n                <input \r\n                type='date'\r\n                className='form-control'\r\n                {...register(\"date\", { required: true })}\r\n                />\r\n                \r\n\r\n                <button className='btn btn-danger mt-3' type='submit'>Submit</button>\r\n              </form>\r\n            </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <div className=\"row row-cols-1 row-cols-sm-2 row-cols-md-3\">\r\n      {\r\n        users?.map((dataObj)=> <div className='col mx-auto text-center m-5 p-3' key={dataObj.id} >\r\n          <div className=\"card \"> \r\n            <div className=\"card-body bg-transparent \">  \r\n                  \r\n                  <p><strong>expense :</strong>{dataObj.expense}</p>\r\n                  <p><strong>Income :</strong>{dataObj.income}</p>  \r\n                  <p><strong>date</strong>{dataObj.date}</p> \r\n            </div>\r\n          </div>\r\n  \r\n        </div> )\r\n  \r\n  \r\n    }\r\n   \r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default AddCollege"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC3D,OAAQC,OAAO,KAAO,iBAAiB,CACvC,OAAUC,WAAW,KAAO,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,0BAA0B,CACvD,MAAO,YAAY,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACnB,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAEpB,GAAK,CAACC,WAAW,CAACC,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,UAAU,CAAEC,SAAS,CAACC,MAAM,CAAC,CAAClB,UAAU,CAACM,YAAY,CAAC,CAE3G,GAAI,CAACa,QAAQ,CAACC,YAAY,CAACC,SAAS,CAAC,CAACC,MAAM,CAAC,CAAC,CAACnB,OAAO,CAAC,CAAC,CACxD,GAAI,CAAAoB,QAAQ,CAACnB,WAAW,CAAC,CAAC,CAC1B,GAAI,CAACoB,GAAG,CAACC,QAAQ,CAAC,CAACvB,QAAQ,CAAC,EAAE,CAAC,CAC/B,GAAI,CAACwB,KAAK,CAACC,QAAQ,CAAC,CAACzB,QAAQ,CAAC,EAAE,CAAC,CACjC,GAAI,CAAC0B,YAAY,CAACC,eAAe,CAAC,CAAC3B,QAAQ,CAAC,IAAI,CAAC,CACnD,GAAI,CAAA4B,UAAU,CAAEC,UAAU,EAAG,CACzBA,UAAU,CAAC,KAAK,CAAC,CAACb,MAAM,CAC1Bb,KAAK,CAAC2B,IAAI,CAAC,+CAA+C,CAACD,UAAU,CAAC,CACrEE,IAAI,CAACC,QAAQ,EAAE,CACdC,OAAO,CAACC,GAAG,CAAC,cAAc,CAACF,QAAQ,CAAC,CACpC,GAAGA,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CACrBd,QAAQ,CAAC,aAAa,CAAC,CAC3B,CAAC,IACG,CACFE,QAAQ,CAACS,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CACjC,CAEF,CAAC,CAAC,CACDC,KAAK,CAAEhB,GAAG,EAAG,CACZW,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEZ,GAAG,CAAC,CAC1B,GAAGA,GAAG,CAACU,QAAQ,CAAC,CACfT,QAAQ,CAACD,GAAG,CAACe,OAAO,CAAC,CACtB,CAAC,IACI,IAAGf,GAAG,CAACiB,OAAO,CAAC,CAClBhB,QAAQ,CAACD,GAAG,CAACe,OAAO,CAAC,CACvB,CACF,CAAC,CAAC,CAEJ,CAAC,CAID,GAAI,CAAAG,UAAU,CAACA,CAAA,GAAI,CACfrC,KAAK,CAACsC,GAAG,CAAC,+CAA+C,CAAC,CACzDV,IAAI,CAAEC,QAAQ,EAAG,CAChB,GAAGA,QAAQ,CAACG,MAAM,EAAE,GAAG,CAAC,CACtBH,QAAQ,CAAEA,QAAQ,CAACI,IAAI,CAACM,OAAQ,CAEhCjB,QAAQ,CAACO,QAAQ,CAAC,CACpB,CACF,CAAC,CAAC,CACDM,KAAK,CAAEhB,GAAG,EAAG,CACZW,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAACZ,GAAG,CAAC,CAC9C,GAAGA,GAAG,CAACU,QAAQ,CAAC,CACdT,QAAQ,CAACD,GAAG,CAACe,OAAO,CAAC,CACvB,CAAC,IACI,IAAGf,GAAG,CAACiB,OAAO,CAAC,CAClBhB,QAAQ,CAACD,GAAG,CAACe,OAAO,CAAC,CACvB,CACF,CAAC,CAAC,CACJ,CAAC,CAEC;AACA,KAAM,CAAAM,YAAY,CAAEC,CAAC,EAAG,CACtBjB,eAAe,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpC,CAAC,CAED/C,SAAS,CAAC,IAAI,CACVyC,UAAU,CAAC,CAAC,CAChB,CAAC,CAAC,EAAE,CAAC,CAEP,mBACEhC,KAAA,QAAKuC,SAAS,CAAC,YAAY,CAAAC,QAAA,EAE1B1B,GAAG,CAAC2B,MAAM,GAAG,CAAC,eAAI3C,IAAA,MAAGyC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE1B,GAAG,CAAI,CAAC,cAEvDhB,IAAA,OAAIyC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,mBAAiB,CAAI,CAAC,cAEnE1C,IAAA,QAAKyC,SAAS,CAAC,KAAK,CAAAC,QAAA,cAEd1C,IAAA,QAAKyC,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC7ExC,KAAA,SAAM0C,QAAQ,CAAEhC,YAAY,CAACU,UAAU,CAAE,CAAAoB,QAAA,eACvC1C,IAAA,UACC6C,WAAW,CAAC,eAAe,CAC3BC,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,wBAAwB,IAC9B9B,QAAQ,CAAC,SAAS,CAAE,CAAEoC,QAAQ,CAAE,IAAK,CAAC,CAAC,CAE3C,CAAC,cAEF/C,IAAA,UACC6C,WAAW,CAAC,cAAc,CAC1BC,IAAI,CAAC,QAAQ,CACbL,SAAS,CAAC,mBAAmB,IACzB9B,QAAQ,CAAC,QAAQ,CAAE,CAAEoC,QAAQ,CAAE,IAAK,CAAC,CAAC,CAE1C,CAAC,cAEF/C,IAAA,UACA8C,IAAI,CAAC,MAAM,CACXL,SAAS,CAAC,cAAc,IACpB9B,QAAQ,CAAC,MAAM,CAAE,CAAEoC,QAAQ,CAAE,IAAK,CAAC,CAAC,CACvC,CAAC,cAGF/C,IAAA,WAAQyC,SAAS,CAAC,qBAAqB,CAACK,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjE,CAAC,CACJ,CAAC,CAET,CAAC,cAKN1C,IAAA,QAAKyC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAEvDxB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAE8B,GAAG,CAAEC,OAAO,eAAIjD,IAAA,QAAKyC,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cACrE1C,IAAA,QAAKyC,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBxC,KAAA,QAAKuC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAEpCxC,KAAA,MAAAwC,QAAA,eAAG1C,IAAA,WAAA0C,QAAA,CAAQ,WAAS,CAAQ,CAAC,CAACO,OAAO,CAACC,OAAO,EAAI,CAAC,cAClDhD,KAAA,MAAAwC,QAAA,eAAG1C,IAAA,WAAA0C,QAAA,CAAQ,UAAQ,CAAQ,CAAC,CAACO,OAAO,CAACE,MAAM,EAAI,CAAC,cAChDjD,KAAA,MAAAwC,QAAA,eAAG1C,IAAA,WAAA0C,QAAA,CAAQ,MAAI,CAAQ,CAAC,CAACO,OAAO,CAACG,IAAI,EAAI,CAAC,EAC3C,CAAC,CACH,CAAC,EARqEH,OAAO,CAACI,EAUhF,CAAE,CAAC,CAKP,CAAC,EACH,CAAC,CAER,CAEA,cAAe,CAAAlD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}